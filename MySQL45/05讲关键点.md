本文档作为草稿，不定期删除。
## 回表
非主键索引检索过程中才可能产生回表。   

### 优化：覆盖索引
如果检索内容是主键值，主键值已经在索引树上了，可以不回表，该过程即覆盖索引。
## 联合索引
建立联合索引时需要考虑什么？   
根据最左匹配原则，安排索引内字段顺序。越常用的字段越靠前。
### 最左匹配原则
常见面试题，解释最左匹配原则，并根据面试官给的检索条件判断能否使用到该联合索引
#### 最左匹配的优化：索引下推
文中例子，已知有联合索引（name, age），按照以下条件检索。
```
mysql> select * from tuser where name like '张%' and age=10 and ismale=1;
```
在mysql5.6之后**索引下推**。对索引中包含字段先做判断，过滤完毕之后再回表检索。

思考：如果 name like '%张%' 会不会触发索引？

# 评论区精彩内容

## 1. 课后题值得思考下

## 2. 评论1
1. 表的逻辑结构 ，表 —> 段 —> 段中存在数据段(leaf node segment) ，索引段( Non-leaf node segment）,请问数据段就是主键索引的数据， 索引段就是二级索引的数据么
    ```
    表、段、数据段、索引段是怎样的数据结构有了解吗？

    ```
3. 索引的n阶表示n个数据页么。那是不是插入第一行数据树高1 ，就是一个数据页， 插入二三行，树高是二，那就是两个数据页，而且B+树只有leaf node存数据，所以父节点实际上有没有数据，但是占一个页 ，好浪费 ， 是我理解有误么
4. 树高取决于数据页的大小么 ， 这个不是很能理解 ，数据页为16k 。 那么树高不是一个定值了么，难道还和里面存数据的大小有关么
5. 查询数据的时候，大致的流程细化来说 ,我这么理解对么 。 通过优化器到表里的数据段／索引段取数据 ，数据是按照段->区->页维度去取 ， 取完后先放到数据缓冲池中，再通过二分法查询叶结点的有序链表数组找到行数据返回给用户 。 当数据量大的时候，会存在不同的区，取范围值的时候会到不同的区取页的数据返回用户。【跟问题1都需要搞清楚 段、区、页这些基本概念】。


## 3. 你们补充吧。。。。